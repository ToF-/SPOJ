REQUIRE ffl/tst.fs
REQUIRE GRAPH.fs

." GRAPH TEST" CR

T{
GRAPH-INIT

S" foo" GRAPH-ADD-NODE
1 2 100 GRAPH-ADD-EDGE
1 3 300 GRAPH-ADD-EDGE

1 GRAPH-NODE-ADDRESS
@ DUP GRAPH-EDGE 3 300 ?D
@ DUP GRAPH-EDGE 2 100 ?D
@ 0 ?S

S" bar" GRAPH-ADD-NODE
2 1 100 GRAPH-ADD-EDGE
2 3 100 GRAPH-ADD-EDGE
2 4 400 GRAPH-ADD-EDGE

S" qux" GRAPH-ADD-NODE
3 1 300 GRAPH-ADD-EDGE
3 2 100 GRAPH-ADD-EDGE
3 4 100 GRAPH-ADD-EDGE

S" law" GRAPH-ADD-NODE
4 2 400 GRAPH-ADD-EDGE
4 3 100 GRAPH-ADD-EDGE

S" qux" GRAPH-NODE 3 ?S

3 GRAPH-NODE-ADDRESS
@ DUP GRAPH-EDGE 4 100 ?D
@ DUP GRAPH-EDGE 2 100 ?D
@ DUP GRAPH-EDGE 1 300 ?D
@ 0 ?S

S" foo" GRAPH-NODE S" law" GRAPH-NODE 
GRAPH-MIN-WEIGHT 300 ?S
S" bar" GRAPH-NODE S" law" GRAPH-NODE
GRAPH-MIN-WEIGHT 200 ?S
}T



