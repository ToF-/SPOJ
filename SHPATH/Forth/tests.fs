REQUIRE ffl/tst.fs
REQUIRE shpath.fs

PAGE
T{
    NAMES OFF
    S" foo bar" ADD-NAME
    S" qux" ADD-NAME

    2 NAME^ COUNT S" qux" ?STR
    1 NAME^ COUNT S" foo bar" ?STR

    EDGES OFF
    2317 4807 42 ADD-EDGE
    EDGE^ @
    DUP EDGE>DEST 42 ?S
    DUP EDGE>COST 4807 ?S
    EDGE>NEXT 2317 ?S

    S" furmeyer" INSERT-NODE
    s" mennecy"  INSERT-NODE
    s" salazac"  INSERT-NODE
    S" furmeyer" FIND-NODE
    DUP LINK>NAME NAME^ COUNT S" furmeyer" ?STR
    LINK>NODE 1 ?S

    S" salazac"  FIND-NODE
    DUP LINK>NAME NAME^ COUNT S" salazac" ?STR
    LINK>NODE 3 ?S
    S" coulomb" FIND-NODE ?FALSE

}T
T{
    PQUEUE OFF
    1 4807  PQUEUE-UPDATE 1 PQUEUE-INDEX@ 1 ?S
    2 2317  PQUEUE-UPDATE 2 PQUEUE-INDEX@ 1 ?S 1 PQUEUE-INDEX@ 2 ?S
    3 10000 PQUEUE-UPDATE 3 PQUEUE-INDEX@ 3 ?S
    4 42    PQUEUE-UPDATE 4 PQUEUE-INDEX@ 1 ?S
    BYE
    4 42000 PQUEUE-UPDATE
    1 480   PQUEUE-UPDATE
    PQUEUE 6 CELLS DUMP PQUEUE-INDEX 12 DUMP KEY DROP
    PQUEUE-EXTRACT-MIN 480 ?S 1 ?S
    1 PQUEUE-INDEX@ 0 ?S
    PQUEUE-EXTRACT-MIN 2317 ?S 2 ?S
    PQUEUE-EXTRACT-MIN 10000 ?S 3 ?S
    PQUEUE-EXTRACT-MIN 42000 ?S 4 ?S
    1 256 PQUEUE-UPDATE
    PQUEUE-EXTRACT-MIN 256 ?S 1 ?S
}T

T{
    BITSET-INIT
    4807 BITSET-INCLUDE? ?FALSE
    4807 BITSET-INCLUDE!
    4807 BITSET-INCLUDE? ?TRUE
    4806 BITSET-INCLUDE? ?FALSE
}T
BYE
